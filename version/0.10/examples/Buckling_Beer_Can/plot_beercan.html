
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Buckling of beer can example &#8212; PyDYNA</title>
  
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/ansys-sphinx-theme.css?v=9e79609d" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/ansys-sphinx-theme.css?v=9e79609d" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" type="text/css" href="https://www.nerdfonts.com/assets/css/webfont.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />


  <!-- Include desired assets -->
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  

  
    <link href="../../_static/css/breadcrumbs.css" rel="stylesheet" />
  
    <script src="../../_static/documentation_options.js?v=7e54ce6f"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'examples/Buckling_Beer_Can/plot_beercan';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://dyna.docs.pyansys.com/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '0.10';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <link rel="icon" href="../../_static/ansys-favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="EM examples" href="../EM/index.html" />
    <link rel="prev" title="Beer can buckling" href="index.html" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.10.0" />
  <meta property="og:site_name" content="PyAnsys" />
  <meta name="physics" content="Structures" />
  <link rel="canonical" href="https://dyna.docs.pyansys.com/version/stable/examples/Buckling_Beer_Can/plot_beercan.html" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>
<aside class="bd-header-announcement" aria-label="Announcement">
  <div class="bd-header-announcement__content"><style>.bd-header-announcement{background-color:#f2bebd;}The </style><span>ansys.dyna.core.pre</span> and <span>ansys.dyna.core.run</span> subpackages are deprecated and will be removed starting version v0.11.0.</div>
</aside>

  
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="https://docs.pyansys.com/">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/pyansys_logo_transparent_black.png" class="logo__image only-light" alt="PyDYNA - Home"/>
    <img src="../../_static/pyansys_logo_transparent_white.png" class="logo__image only-dark pst-js-only" alt="PyDYNA - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">

<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../index.html" title="PyDYNA home">Home</a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting-started.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user-guide/index.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api/index.html">
    API reference
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Examples
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../contributing.html">
    Contribute
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../changelog.html">
    Release notes
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav>
</div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
</div></div>
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pydyna" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  
  
    <div id="announcement_msg"></div>
<script>
  fetch("announcement.html")
    .then((response) => {
      if (!response.ok) {
        throw new Error(`HTTP error: ${response.status}`);
      }
      return response.text();
    })
    .then(
      (text) => (document.getElementById("announcement_msg").innerHTML = text),
    )
    .catch((error) => console.error(`Fetch problem: ${error.message}`));
</script>
  


  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">

<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../index.html" title="PyDYNA home">Home</a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting-started.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user-guide/index.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api/index.html">
    API reference
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../contributing.html">
    Contribute
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../changelog.html">
    Release notes
  </a>
</li>

  </ul>
</nav>
</div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
</div></div>
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pydyna" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../jupyter_plotting_demo.html">Jupyter notebook plotting</a></li>
</ul>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Airbag/index.html">Airbag examples</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Beer can buckling</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Buckling of beer can example</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../EM/index.html">EM examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Explicit/index.html">Explicit examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ICFD/index.html">ICFD examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ISPH/index.html">ISPH examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Implicit/index.html">Implicit examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../John_Reid_Pendulum/index.html">Pendulum</a></li>
<li class="toctree-l1"><a class="reference internal" href="../John_Reid_Pipe/index.html">Pipe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NVH/index.html">NVH examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Optimization/index.html">Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SALE/index.html">S-ALE examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Taylor_Bar/index.html">Taylor bar impact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Thermal/index.html">Thermal examples</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">
<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
         
    <li class="breadcrumb-item breadcrumb-home">
      <a href="https://docs.pyansys.com/" class="nav-link">PyAnsys</a>
    </li>
     
    <li class="breadcrumb-item">
      <a
        href="../../index.html"
        class="nav-link"
        aria-label="Home"
      >
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="../index.html" class="nav-link">Examples</a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="index.html" class="nav-link">Beer can buckling</a>
    </li>
      
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Buckling of beer can example</span></li>
    
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-examples-buckling-beer-can-plot-beercan-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="buckling-of-beer-can-example">
<span id="sphx-glr-examples-buckling-beer-can-plot-beercan-py"></span><h1>Buckling of beer can example<a class="headerlink" href="#buckling-of-beer-can-example" title="Link to this heading">#</a></h1>
<p>This example is inspired by the “Buckling of Beer Can” example on the
<a class="reference external" href="_ls_dyna_knowledge_base">LS-DYNA Knowledge Base</a> site. It shows how to
use PyDyna to create a keyword file for LS-DYNA and then solve it from
Python.</p>
<section id="perform-required-imports">
<h2>Perform required imports<a class="headerlink" href="#perform-required-imports" title="Link to this heading">#</a></h2>
<p>Import required packages, including those for the keywords, deck, and solver.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">shutil</span>

<span class="c1"># subprocess is used to run LS-DYNA commands, excluding bandit warning</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">subprocess</span>  <span class="c1"># nosec: B404</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.dyna.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">Deck</span><span class="p">,</span> <span class="n">keywords</span> <span class="k">as</span> <span class="n">kwd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.dyna.core.pre.examples.download_utilities</span><span class="w"> </span><span class="kn">import</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">EXAMPLES_PATH</span></a><span class="p">,</span> <span class="n">DownloadManager</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.dyna.core.run</span><span class="w"> </span><span class="kn">import</span> <span class="n">MemoryUnit</span><span class="p">,</span> <span class="n">MpiOption</span><span class="p">,</span> <span class="n">run_dyna</span>

<a href="https://docs.python.org/3/library/tempfile.html#tempfile.TemporaryDirectory" title="tempfile.TemporaryDirectory" class="sphx-glr-backref-module-tempfile sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">rundir</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/tempfile.html#tempfile.TemporaryDirectory" title="tempfile.TemporaryDirectory" class="sphx-glr-backref-module-tempfile sphx-glr-backref-type-py-class"><span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span></a><span class="p">()</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">mesh_file_name</span></a> <span class="o">=</span> <span class="s2">&quot;mesh.k&quot;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">mesh_file</span></a> <span class="o">=</span> <span class="n">DownloadManager</span><span class="p">()</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">mesh_file_name</span></a><span class="p">,</span> <span class="s2">&quot;ls-dyna&quot;</span><span class="p">,</span> <span class="s2">&quot;Buckling_Beer_Can&quot;</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><a href="https://docs.python.org/3/library/os.path.html#os.path.join" title="os.path.join" class="sphx-glr-backref-module-os-path sphx-glr-backref-type-py-function"><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">EXAMPLES_PATH</span></a><span class="p">,</span> <span class="s2">&quot;Buckling_Beer_Can&quot;</span><span class="p">)</span>
<span class="p">)</span>

<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">dynafile</span></a> <span class="o">=</span> <span class="s2">&quot;beer_can.k&quot;</span>
</pre></div>
</div>
</section>
<section id="create-a-deck-and-keywords">
<h2>Create a deck and keywords<a class="headerlink" href="#create-a-deck-and-keywords" title="Link to this heading">#</a></h2>
<p>Create a deck, which is the container for all the keywords.
Then, create and append individual keywords to the deck.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">write_deck</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
    <span class="n">deck</span> <span class="o">=</span> <span class="n">Deck</span><span class="p">()</span>

    <span class="c1"># Append control keywords</span>
    <span class="n">contact_auto</span> <span class="o">=</span> <span class="n">kwd</span><span class="o">.</span><span class="n">ContactAutomaticSingleSurfaceMortar</span><span class="p">(</span><span class="n">cid</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">contact_auto</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;ID&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">contact_auto</span><span class="o">.</span><span class="n">heading</span> <span class="o">=</span> <span class="s2">&quot;Single-Surface Mortar Contact (The New Explicit/Implicit Standard)&quot;</span>
    <span class="n">deck</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="n">contact_auto</span><span class="p">,</span>
            <span class="n">kwd</span><span class="o">.</span><span class="n">ControlAccuracy</span><span class="p">(</span><span class="n">iacc</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
            <span class="n">kwd</span><span class="o">.</span><span class="n">ControlImplicitAuto</span><span class="p">(</span><span class="n">iauto</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dtmax</span><span class="o">=</span><span class="mf">0.01</span><span class="p">),</span>
            <span class="n">kwd</span><span class="o">.</span><span class="n">ControlImplicitDynamics</span><span class="p">(</span><span class="n">imass</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="mf">0.38</span><span class="p">),</span>
            <span class="n">kwd</span><span class="o">.</span><span class="n">ControlImplicitGeneral</span><span class="p">(</span><span class="n">imflag</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dt0</span><span class="o">=</span><span class="mf">0.01</span><span class="p">),</span>
            <span class="n">kwd</span><span class="o">.</span><span class="n">ControlImplicitSolution</span><span class="p">(</span><span class="n">nlprint</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
            <span class="n">kwd</span><span class="o">.</span><span class="n">ControlShell</span><span class="p">(</span><span class="n">esort</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">theory</span><span class="o">=-</span><span class="mi">16</span><span class="p">,</span> <span class="n">intgrd</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nfail4</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">irquad</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
            <span class="n">kwd</span><span class="o">.</span><span class="n">ControlTermination</span><span class="p">(</span><span class="n">endtim</span><span class="o">=</span><span class="mf">1.0</span><span class="p">),</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="c1"># Append database keywords</span>
    <span class="n">deck</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="n">kwd</span><span class="o">.</span><span class="n">DatabaseGlstat</span><span class="p">(</span><span class="n">dt</span><span class="o">=</span><span class="mf">1.0e-4</span><span class="p">,</span> <span class="n">binary</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">ioopt</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
            <span class="n">kwd</span><span class="o">.</span><span class="n">DatabaseSpcforc</span><span class="p">(</span><span class="n">dt</span><span class="o">=</span><span class="mf">1e-4</span><span class="p">,</span> <span class="n">binary</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">ioopt</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
            <span class="n">kwd</span><span class="o">.</span><span class="n">DatabaseBinaryD3Plot</span><span class="p">(</span><span class="n">dt</span><span class="o">=</span><span class="mf">1.0e-4</span><span class="p">),</span>
            <span class="n">kwd</span><span class="o">.</span><span class="n">DatabaseExtentBinary</span><span class="p">(</span><span class="n">maxint</span><span class="o">=-</span><span class="mi">3</span><span class="p">,</span> <span class="n">nintsld</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="c1"># Part keywords</span>
    <span class="n">can_part</span> <span class="o">=</span> <span class="n">kwd</span><span class="o">.</span><span class="n">Part</span><span class="p">(</span><span class="n">heading</span><span class="o">=</span><span class="s2">&quot;Beer Can&quot;</span><span class="p">,</span> <span class="n">pid</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">secid</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">mid</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">eosid</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">floor_part</span> <span class="o">=</span> <span class="n">kwd</span><span class="o">.</span><span class="n">Part</span><span class="p">(</span><span class="n">heading</span><span class="o">=</span><span class="s2">&quot;Floor&quot;</span><span class="p">,</span> <span class="n">pid</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">secid</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">mid</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Material keywords</span>
    <span class="n">mat_elastic</span> <span class="o">=</span> <span class="n">kwd</span><span class="o">.</span><span class="n">MatElastic</span><span class="p">(</span><span class="n">mid</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ro</span><span class="o">=</span><span class="mf">2.59e-4</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="mf">1.0e7</span><span class="p">,</span> <span class="n">pr</span><span class="o">=</span><span class="mf">0.33</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Aluminum&quot;</span><span class="p">)</span>
    <span class="n">mat_elastic</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;TITLE&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="c1"># Section keywords</span>
    <span class="n">can_shell</span> <span class="o">=</span> <span class="n">kwd</span><span class="o">.</span><span class="n">SectionShell</span><span class="p">(</span><span class="n">secid</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">elform</span><span class="o">=-</span><span class="mi">16</span><span class="p">,</span> <span class="n">shrf</span><span class="o">=</span><span class="mf">0.8333</span><span class="p">,</span> <span class="n">nip</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">t1</span><span class="o">=</span><span class="mf">0.002</span><span class="p">,</span> <span class="n">propt</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Beer Can&quot;</span><span class="p">)</span>
    <span class="n">can_shell</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;TITLE&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">floor_shell</span> <span class="o">=</span> <span class="n">kwd</span><span class="o">.</span><span class="n">SectionShell</span><span class="p">(</span><span class="n">secid</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">elform</span><span class="o">=-</span><span class="mi">16</span><span class="p">,</span> <span class="n">shrf</span><span class="o">=</span><span class="mf">0.833</span><span class="p">,</span> <span class="n">t1</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">propt</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
    <span class="n">floor_shell</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;TITLE&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">floor_shell</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Floor - Just for Contact (Rigid Wall Would Have Worked Also)&quot;</span>

    <span class="n">deck</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="n">can_part</span><span class="p">,</span>
            <span class="n">can_shell</span><span class="p">,</span>
            <span class="n">floor_part</span><span class="p">,</span>
            <span class="n">floor_shell</span><span class="p">,</span>
            <span class="n">mat_elastic</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="c1"># Load curve</span>
    <span class="n">load_curve</span> <span class="o">=</span> <span class="n">kwd</span><span class="o">.</span><span class="n">DefineCurve</span><span class="p">(</span><span class="n">lcid</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">curves</span><span class="o">=</span><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame" class="sphx-glr-backref-module-pandas sphx-glr-backref-type-py-class"><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span></a><span class="p">({</span><span class="s2">&quot;a1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.00</span><span class="p">,</span> <span class="mf">1.00</span><span class="p">],</span> <span class="s2">&quot;o1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.000</span><span class="p">]}))</span>
    <span class="n">load_curve</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;TITLE&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">active</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">load_curve</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Load vs. Time&quot;</span>
    <span class="n">deck</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">load_curve</span><span class="p">)</span>

    <span class="c1"># Define boundary conditions</span>
    <span class="n">load_nodes</span> <span class="o">=</span> <span class="p">[</span>
        <span class="mi">50</span><span class="p">,</span>
        <span class="mi">621</span><span class="p">,</span>
        <span class="mi">670</span><span class="p">,</span>
        <span class="mi">671</span><span class="p">,</span>
        <span class="mi">672</span><span class="p">,</span>
        <span class="mi">673</span><span class="p">,</span>
        <span class="mi">674</span><span class="p">,</span>
        <span class="mi">675</span><span class="p">,</span>
        <span class="mi">676</span><span class="p">,</span>
        <span class="mi">677</span><span class="p">,</span>
        <span class="mi">678</span><span class="p">,</span>
        <span class="mi">679</span><span class="p">,</span>
        <span class="mi">680</span><span class="p">,</span>
        <span class="mi">681</span><span class="p">,</span>
        <span class="mi">682</span><span class="p">,</span>
        <span class="mi">683</span><span class="p">,</span>
        <span class="mi">684</span><span class="p">,</span>
        <span class="mi">685</span><span class="p">,</span>
        <span class="mi">686</span><span class="p">,</span>
        <span class="mi">687</span><span class="p">,</span>
        <span class="mi">31</span><span class="p">,</span>
        <span class="mi">32</span><span class="p">,</span>
        <span class="mi">33</span><span class="p">,</span>
        <span class="mi">34</span><span class="p">,</span>
        <span class="mi">35</span><span class="p">,</span>
        <span class="mi">36</span><span class="p">,</span>
        <span class="mi">37</span><span class="p">,</span>
        <span class="mi">38</span><span class="p">,</span>
        <span class="mi">39</span><span class="p">,</span>
        <span class="mi">40</span><span class="p">,</span>
        <span class="mi">41</span><span class="p">,</span>
        <span class="mi">42</span><span class="p">,</span>
        <span class="mi">43</span><span class="p">,</span>
        <span class="mi">44</span><span class="p">,</span>
        <span class="mi">45</span><span class="p">,</span>
        <span class="mi">46</span><span class="p">,</span>
        <span class="mi">47</span><span class="p">,</span>
        <span class="mi">48</span><span class="p">,</span>
        <span class="mi">49</span><span class="p">,</span>
        <span class="mi">1229</span><span class="p">,</span>
        <span class="mi">1230</span><span class="p">,</span>
        <span class="mi">1231</span><span class="p">,</span>
        <span class="mi">1232</span><span class="p">,</span>
        <span class="mi">1233</span><span class="p">,</span>
        <span class="mi">1234</span><span class="p">,</span>
        <span class="mi">1235</span><span class="p">,</span>
        <span class="mi">1236</span><span class="p">,</span>
        <span class="mi">1237</span><span class="p">,</span>
        <span class="mi">1238</span><span class="p">,</span>
        <span class="mi">1239</span><span class="p">,</span>
        <span class="mi">1240</span><span class="p">,</span>
        <span class="mi">1241</span><span class="p">,</span>
        <span class="mi">1242</span><span class="p">,</span>
        <span class="mi">1243</span><span class="p">,</span>
        <span class="mi">1244</span><span class="p">,</span>
        <span class="mi">1245</span><span class="p">,</span>
        <span class="mi">1246</span><span class="p">,</span>
        <span class="mi">1247</span><span class="p">,</span>
        <span class="mi">1799</span><span class="p">,</span>
        <span class="mi">1800</span><span class="p">,</span>
        <span class="mi">1801</span><span class="p">,</span>
        <span class="mi">1802</span><span class="p">,</span>
        <span class="mi">1803</span><span class="p">,</span>
        <span class="mi">1804</span><span class="p">,</span>
        <span class="mi">1805</span><span class="p">,</span>
        <span class="mi">1806</span><span class="p">,</span>
        <span class="mi">1807</span><span class="p">,</span>
        <span class="mi">1808</span><span class="p">,</span>
        <span class="mi">1809</span><span class="p">,</span>
        <span class="mi">1810</span><span class="p">,</span>
        <span class="mi">1811</span><span class="p">,</span>
        <span class="mi">1812</span><span class="p">,</span>
        <span class="mi">1813</span><span class="p">,</span>
        <span class="mi">1814</span><span class="p">,</span>
        <span class="mi">1815</span><span class="p">,</span>
        <span class="mi">1816</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="n">count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">load_nodes</span><span class="p">)</span>
    <span class="n">zeros</span> <span class="o">=</span> <a href="https://numpy.org/devdocs/reference/generated/numpy.zeros.html#numpy.zeros" title="numpy.zeros" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">zeros</span></a><span class="p">(</span><span class="n">count</span><span class="p">)</span>

    <span class="n">load_node_point</span> <span class="o">=</span> <span class="n">kwd</span><span class="o">.</span><span class="n">LoadNodePoint</span><span class="p">(</span>
        <span class="n">nodes</span><span class="o">=</span><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame" class="sphx-glr-backref-module-pandas sphx-glr-backref-type-py-class"><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span></a><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;nid&quot;</span><span class="p">:</span> <span class="n">load_nodes</span><span class="p">,</span>
                <span class="s2">&quot;dof&quot;</span><span class="p">:</span> <a href="https://numpy.org/devdocs/reference/generated/numpy.full.html#numpy.full" title="numpy.full" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">full</span></a><span class="p">((</span><span class="n">count</span><span class="p">),</span> <span class="mi">3</span><span class="p">),</span>
                <span class="s2">&quot;lcid&quot;</span><span class="p">:</span> <a href="https://numpy.org/devdocs/reference/generated/numpy.full.html#numpy.full" title="numpy.full" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">full</span></a><span class="p">((</span><span class="n">count</span><span class="p">),</span> <span class="mi">1</span><span class="p">),</span>
                <span class="s2">&quot;sf&quot;</span><span class="p">:</span> <a href="https://numpy.org/devdocs/reference/generated/numpy.full.html#numpy.full" title="numpy.full" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">full</span></a><span class="p">((</span><span class="n">count</span><span class="p">),</span> <span class="o">-</span><span class="mf">13.1579</span><span class="p">),</span>
                <span class="s2">&quot;cid&quot;</span><span class="p">:</span> <span class="n">zeros</span><span class="p">,</span>
                <span class="s2">&quot;m1&quot;</span><span class="p">:</span> <span class="n">zeros</span><span class="p">,</span>
                <span class="s2">&quot;m2&quot;</span><span class="p">:</span> <span class="n">zeros</span><span class="p">,</span>
                <span class="s2">&quot;m3&quot;</span><span class="p">:</span> <span class="n">zeros</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="n">deck</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">load_node_point</span><span class="p">)</span>

    <span class="n">nid</span> <span class="o">=</span> <span class="p">[</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">31</span><span class="p">,</span>
        <span class="mi">32</span><span class="p">,</span>
        <span class="mi">33</span><span class="p">,</span>
        <span class="mi">34</span><span class="p">,</span>
        <span class="mi">35</span><span class="p">,</span>
        <span class="mi">36</span><span class="p">,</span>
        <span class="mi">37</span><span class="p">,</span>
        <span class="mi">38</span><span class="p">,</span>
        <span class="mi">39</span><span class="p">,</span>
        <span class="mi">40</span><span class="p">,</span>
        <span class="mi">41</span><span class="p">,</span>
        <span class="mi">42</span><span class="p">,</span>
        <span class="mi">43</span><span class="p">,</span>
        <span class="mi">44</span><span class="p">,</span>
        <span class="mi">45</span><span class="p">,</span>
        <span class="mi">46</span><span class="p">,</span>
        <span class="mi">47</span><span class="p">,</span>
        <span class="mi">48</span><span class="p">,</span>
        <span class="mi">49</span><span class="p">,</span>
        <span class="mi">50</span><span class="p">,</span>
        <span class="mi">80</span><span class="p">,</span>
        <span class="mi">81</span><span class="p">,</span>
        <span class="mi">82</span><span class="p">,</span>
        <span class="mi">83</span><span class="p">,</span>
        <span class="mi">84</span><span class="p">,</span>
        <span class="mi">85</span><span class="p">,</span>
        <span class="mi">86</span><span class="p">,</span>
        <span class="mi">87</span><span class="p">,</span>
        <span class="mi">88</span><span class="p">,</span>
        <span class="mi">89</span><span class="p">,</span>
        <span class="mi">90</span><span class="p">,</span>
        <span class="mi">91</span><span class="p">,</span>
        <span class="mi">92</span><span class="p">,</span>
        <span class="mi">93</span><span class="p">,</span>
        <span class="mi">94</span><span class="p">,</span>
        <span class="mi">95</span><span class="p">,</span>
        <span class="mi">96</span><span class="p">,</span>
        <span class="mi">97</span><span class="p">,</span>
        <span class="mi">98</span><span class="p">,</span>
        <span class="mi">621</span><span class="p">,</span>
        <span class="mi">651</span><span class="p">,</span>
        <span class="mi">652</span><span class="p">,</span>
        <span class="mi">653</span><span class="p">,</span>
        <span class="mi">654</span><span class="p">,</span>
        <span class="mi">655</span><span class="p">,</span>
        <span class="mi">656</span><span class="p">,</span>
        <span class="mi">657</span><span class="p">,</span>
        <span class="mi">658</span><span class="p">,</span>
        <span class="mi">659</span><span class="p">,</span>
        <span class="mi">660</span><span class="p">,</span>
        <span class="mi">661</span><span class="p">,</span>
        <span class="mi">662</span><span class="p">,</span>
        <span class="mi">663</span><span class="p">,</span>
        <span class="mi">664</span><span class="p">,</span>
        <span class="mi">665</span><span class="p">,</span>
        <span class="mi">666</span><span class="p">,</span>
        <span class="mi">667</span><span class="p">,</span>
        <span class="mi">668</span><span class="p">,</span>
        <span class="mi">669</span><span class="p">,</span>
        <span class="mi">670</span><span class="p">,</span>
        <span class="mi">671</span><span class="p">,</span>
        <span class="mi">672</span><span class="p">,</span>
        <span class="mi">673</span><span class="p">,</span>
        <span class="mi">674</span><span class="p">,</span>
        <span class="mi">675</span><span class="p">,</span>
        <span class="mi">676</span><span class="p">,</span>
        <span class="mi">677</span><span class="p">,</span>
        <span class="mi">678</span><span class="p">,</span>
        <span class="mi">679</span><span class="p">,</span>
        <span class="mi">680</span><span class="p">,</span>
        <span class="mi">681</span><span class="p">,</span>
        <span class="mi">682</span><span class="p">,</span>
        <span class="mi">683</span><span class="p">,</span>
        <span class="mi">684</span><span class="p">,</span>
        <span class="mi">685</span><span class="p">,</span>
        <span class="mi">686</span><span class="p">,</span>
        <span class="mi">687</span><span class="p">,</span>
        <span class="mi">1210</span><span class="p">,</span>
        <span class="mi">1211</span><span class="p">,</span>
        <span class="mi">1212</span><span class="p">,</span>
        <span class="mi">1213</span><span class="p">,</span>
        <span class="mi">1214</span><span class="p">,</span>
        <span class="mi">1215</span><span class="p">,</span>
        <span class="mi">1216</span><span class="p">,</span>
        <span class="mi">1217</span><span class="p">,</span>
        <span class="mi">1218</span><span class="p">,</span>
        <span class="mi">1219</span><span class="p">,</span>
        <span class="mi">1220</span><span class="p">,</span>
        <span class="mi">1221</span><span class="p">,</span>
        <span class="mi">1222</span><span class="p">,</span>
        <span class="mi">1223</span><span class="p">,</span>
        <span class="mi">1224</span><span class="p">,</span>
        <span class="mi">1225</span><span class="p">,</span>
        <span class="mi">1226</span><span class="p">,</span>
        <span class="mi">1227</span><span class="p">,</span>
        <span class="mi">1228</span><span class="p">,</span>
        <span class="mi">1229</span><span class="p">,</span>
        <span class="mi">1230</span><span class="p">,</span>
        <span class="mi">1231</span><span class="p">,</span>
        <span class="mi">1232</span><span class="p">,</span>
        <span class="mi">1233</span><span class="p">,</span>
        <span class="mi">1234</span><span class="p">,</span>
        <span class="mi">1235</span><span class="p">,</span>
        <span class="mi">1236</span><span class="p">,</span>
        <span class="mi">1237</span><span class="p">,</span>
        <span class="mi">1238</span><span class="p">,</span>
        <span class="mi">1239</span><span class="p">,</span>
        <span class="mi">1240</span><span class="p">,</span>
        <span class="mi">1241</span><span class="p">,</span>
        <span class="mi">1242</span><span class="p">,</span>
        <span class="mi">1243</span><span class="p">,</span>
        <span class="mi">1244</span><span class="p">,</span>
        <span class="mi">1245</span><span class="p">,</span>
        <span class="mi">1246</span><span class="p">,</span>
        <span class="mi">1247</span><span class="p">,</span>
        <span class="mi">1799</span><span class="p">,</span>
        <span class="mi">1800</span><span class="p">,</span>
        <span class="mi">1801</span><span class="p">,</span>
        <span class="mi">1802</span><span class="p">,</span>
        <span class="mi">1803</span><span class="p">,</span>
        <span class="mi">1804</span><span class="p">,</span>
        <span class="mi">1805</span><span class="p">,</span>
        <span class="mi">1806</span><span class="p">,</span>
        <span class="mi">1807</span><span class="p">,</span>
        <span class="mi">1808</span><span class="p">,</span>
        <span class="mi">1809</span><span class="p">,</span>
        <span class="mi">1810</span><span class="p">,</span>
        <span class="mi">1811</span><span class="p">,</span>
        <span class="mi">1812</span><span class="p">,</span>
        <span class="mi">1813</span><span class="p">,</span>
        <span class="mi">1814</span><span class="p">,</span>
        <span class="mi">1815</span><span class="p">,</span>
        <span class="mi">1816</span><span class="p">,</span>
        <span class="mi">1817</span><span class="p">,</span>
        <span class="mi">1818</span><span class="p">,</span>
        <span class="mi">1819</span><span class="p">,</span>
        <span class="mi">1820</span><span class="p">,</span>
        <span class="mi">1821</span><span class="p">,</span>
        <span class="mi">1822</span><span class="p">,</span>
        <span class="mi">1823</span><span class="p">,</span>
        <span class="mi">1824</span><span class="p">,</span>
        <span class="mi">1825</span><span class="p">,</span>
        <span class="mi">1826</span><span class="p">,</span>
        <span class="mi">1827</span><span class="p">,</span>
        <span class="mi">1828</span><span class="p">,</span>
        <span class="mi">1829</span><span class="p">,</span>
        <span class="mi">1830</span><span class="p">,</span>
        <span class="mi">1831</span><span class="p">,</span>
        <span class="mi">1832</span><span class="p">,</span>
        <span class="mi">1833</span><span class="p">,</span>
        <span class="mi">1834</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="n">count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nid</span><span class="p">)</span>
    <span class="n">zeros</span> <span class="o">=</span> <a href="https://numpy.org/devdocs/reference/generated/numpy.zeros.html#numpy.zeros" title="numpy.zeros" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">zeros</span></a><span class="p">(</span><span class="n">count</span><span class="p">)</span>
    <span class="n">ones</span> <span class="o">=</span> <a href="https://numpy.org/devdocs/reference/generated/numpy.full.html#numpy.full" title="numpy.full" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">full</span></a><span class="p">((</span><span class="n">count</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>

    <span class="n">dofz</span> <span class="o">=</span> <span class="p">[</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">1</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="n">boundary_spc_node</span> <span class="o">=</span> <span class="n">kwd</span><span class="o">.</span><span class="n">BoundarySpcNode</span><span class="p">(</span>
        <span class="n">nodes</span><span class="o">=</span><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame" class="sphx-glr-backref-module-pandas sphx-glr-backref-type-py-class"><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span></a><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;nid&quot;</span><span class="p">:</span> <span class="n">nid</span><span class="p">,</span>
                <span class="s2">&quot;cid&quot;</span><span class="p">:</span> <span class="n">zeros</span><span class="p">,</span>
                <span class="s2">&quot;dofx&quot;</span><span class="p">:</span> <span class="n">ones</span><span class="p">,</span>
                <span class="s2">&quot;dofy&quot;</span><span class="p">:</span> <span class="n">ones</span><span class="p">,</span>
                <span class="s2">&quot;dofz&quot;</span><span class="p">:</span> <span class="n">dofz</span><span class="p">,</span>
                <span class="s2">&quot;dofrx&quot;</span><span class="p">:</span> <span class="n">ones</span><span class="p">,</span>
                <span class="s2">&quot;dofry&quot;</span><span class="p">:</span> <span class="n">ones</span><span class="p">,</span>
                <span class="s2">&quot;dofrz&quot;</span><span class="p">:</span> <span class="n">ones</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="n">deck</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">boundary_spc_node</span><span class="p">)</span>

    <span class="c1"># Define nodes and elements</span>
    <span class="n">deck</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kwd</span><span class="o">.</span><span class="n">Include</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">mesh_file_name</span></a><span class="p">))</span>

    <span class="n">deck</span><span class="o">.</span><span class="n">export_file</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">deck</span>


<span class="k">def</span><span class="w"> </span><span class="nf">run_post</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
    <span class="k">pass</span>


<a href="https://docs.python.org/3/library/shutil.html#shutil.copy" title="shutil.copy" class="sphx-glr-backref-module-shutil sphx-glr-backref-type-py-function"><span class="n">shutil</span><span class="o">.</span><span class="n">copy</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">mesh_file</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/os.path.html#os.path.join" title="os.path.join" class="sphx-glr-backref-module-os-path sphx-glr-backref-type-py-function"><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">rundir</span><span class="o">.</span><span class="n">name</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">mesh_file_name</span></a><span class="p">))</span>
<span class="n">deck</span> <span class="o">=</span> <span class="n">write_deck</span><span class="p">(</span><a href="https://docs.python.org/3/library/os.path.html#os.path.join" title="os.path.join" class="sphx-glr-backref-module-os-path sphx-glr-backref-type-py-function"><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">rundir</span><span class="o">.</span><span class="n">name</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">dynafile</span></a><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="view-the-model">
<h2>View the model<a class="headerlink" href="#view-the-model" title="Link to this heading">#</a></h2>
<p>You can use the PyVista <code class="docutils literal notranslate"><span class="pre">plot</span></code> method in the <code class="docutils literal notranslate"><span class="pre">deck</span></code> class to view
the model.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">deck</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cwd</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">rundir</span><span class="o">.</span><span class="n">name</span></a><span class="p">)</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_plot_beercan_001.png" srcset="../../_images/sphx_glr_plot_beercan_001.png" alt="plot beercan" class = "sphx-glr-single-img"/></section>
<section id="run-the-dyna-solver">
<h2>Run the Dyna solver<a class="headerlink" href="#run-the-dyna-solver" title="Link to this heading">#</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">run_dyna</span><span class="p">(</span>
        <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">dynafile</span></a><span class="p">,</span>
        <span class="n">working_directory</span><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">rundir</span><span class="o">.</span><span class="n">name</span></a><span class="p">,</span>
        <span class="n">ncpu</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="n">mpi_option</span><span class="o">=</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">MpiOption</span><span class="o">.</span><span class="n">MPP_INTEL_MPI</span></a><span class="p">,</span>
        <span class="n">memory</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
        <span class="n">memory_unit</span><span class="o">=</span><a href="https://docs.python.org/3/library/functions.html#int" title="builtins.int" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">MemoryUnit</span><span class="o">.</span><span class="n">MB</span></a><span class="p">,</span>
    <span class="p">)</span>
<span class="k">except</span> <a href="https://docs.python.org/3/library/subprocess.html#subprocess.CalledProcessError" title="subprocess.CalledProcessError" class="sphx-glr-backref-module-subprocess sphx-glr-backref-type-py-exception"><span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span></a><span class="p">:</span>
    <span class="c1"># this example doesn&#39;t run to completion because it is a highly nonlinear buckling</span>
    <span class="k">pass</span>

<span class="n">run_post</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">rundir</span><span class="o">.</span><span class="n">name</span></a><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span> License option : check ansys licenses only


 ***************************************************************
 *            ANSYS LEGAL NOTICES                              *
 ***************************************************************
 *                                                             *
 * Copyright 1971-2023 ANSYS, Inc.  All rights reserved.       *
 * Unauthorized use, distribution or duplication is            *
 * prohibited.                                                 *
 *                                                             *
 * Ansys is a registered trademark of ANSYS, Inc. or its       *
 * subsidiaries in the United States or other countries.       *
 * See the ANSYS, Inc. online documentation or the ANSYS, Inc. *
 * documentation CD or online help for the complete Legal      *
 * Notice.                                                     *
 *                                                             *
 ***************************************************************
 *                                                             *
 * THIS ANSYS SOFTWARE PRODUCT AND PROGRAM DOCUMENTATION       *
 * INCLUDE TRADE SECRETS AND CONFIDENTIAL AND PROPRIETARY      *
 * PRODUCTS OF ANSYS, INC., ITS SUBSIDIARIES, OR LICENSORS.    *
 * The software products and documentation are furnished by    *
 * ANSYS, Inc. or its subsidiaries under a software license    *
 * agreement that contains provisions concerning               *
 * non-disclosure, copying, length and nature of use,          *
 * compliance with exporting laws, warranties, disclaimers,    *
 * limitations of liability, and remedies, and other           *
 * provisions.  The software products and documentation may be *
 * used, disclosed, transferred, or copied only in accordance  *
 * with the terms and conditions of that software license      *
 * agreement.                                                  *
 *                                                             *
 * ANSYS, Inc. is a UL registered                              *
 * ISO 9001:2015 company.                                      *
 *                                                             *
 ***************************************************************
 *                                                             *
 * This product is subject to U.S. laws governing export and   *
 * re-export.                                                  *
 *                                                             *
 * For U.S. Government users, except as specifically granted   *
 * by the ANSYS, Inc. software license agreement, the use,     *
 * duplication, or disclosure by the United States Government  *
 * is subject to restrictions stated in the ANSYS, Inc.        *
 * software license agreement and FAR 12.212 (for non-DOD      *
 * licenses).                                                  *
 *                                                             *
 ***************************************************************

      Date: 01/27/2026      Time: 14:40:25
      ___________________________________________________
     |                                                   |
     |  LS-DYNA, A Program for Nonlinear Dynamic         |
     |  Analysis of Structures in Three Dimensions       |
     |  Date    : 10/16/2023    Time: 19:29:09           |
     |  Version : mpp d R14                              |
     |  Revision: R14.1-205-geb5348f751                  |
     |  AnLicVer: 2024 R1 (20231025+2752148)             |
     |                                                   |
     |  Features enabled in this version:                |
     |    Distributed Memory Parallel                    |
     |    CESE CHEMISTRY EM ICFD STOCHASTIC_PARTICLES    |
     |    FFTW (multi-dimensional FFTW Library)          |
     |    ANSYSLIC enabled                               |
     |                                                   |
     |  Platform   : Intel-MPI 2018 Xeon64               |
     |  OS Level   : Linux CentOS 7.9 uum                |
     |  Compiler   : Intel Fortran Compiler 19.0 SSE2    |
     |  Hostname   : 6c9a4250757f                        |
     |  Precision  : Double precision (I8R8)             |
     |                                                   |
     |  Unauthorized use infringes Ansys Inc. copyrights |
     |___________________________________________________|

[license/info] Successfully checked out 2 of &quot;dyna_solver_core&quot;.
[license/info] --&gt; Checkout ID: 6c9a4250757f-root-23-000004 (days left: 357)
[license/info] --&gt; Customer ID: 0
[license/info] Successfully started &quot;LSDYNA (Core-based License)&quot;.

 Executing with ANSYS license

 Command line options: i=beer_can.k
                       memory=20m

 Input file: beer_can.k

 The native file format       : 64-bit small endian
 Memory size from command line:    20000000,            0
 Memory size from command line:    20000000,     20000000

 Memory for the head node
 Memory installed (MB)        :        64301
 Memory available (MB)        :        61634

 on UNIX computers note the following change:

 ctrl-c interrupts ls-dyna and prompts for a sense  switch.
 type the desired sense switch: sw1., sw2., etc. to continue
 the execution.  ls-dyna will respond as explained in the users manual

    type                      response
   -----   ------------------------------------------------------------
   quit    ls-dyna terminates.
   stop    ls-dyna terminates.
   sw1.    a restart file is written and ls-dyna terminates.
   sw2.    ls-dyna responds with time and cycle numbers.
   sw3.    a restart file is written and ls-dyna continues calculations.
   sw4.    a plot state is written and ls-dyna continues calculations.
   sw5.    ls-dyna enters interactive graphics phase.
   swa.    ls-dyna flushes all output i/o buffers.
   swb.    a dynain is written and ls-dyna continues calculations.
   swc.    a restart and dynain are written and ls-dyna continues calculations.
   swd.    a restart and dynain are written and ls-dyna terminates.
   swe.    stop dynamic relaxation just as though convergence
   endtime=time change the termination time
   lpri    toggle implicit lin. alg. solver output on/off.
   nlpr    toggle implicit nonlinear solver output on/off.
   iter    toggle implicit output to d3iter database on/off.
   prof    output timing data to prof.out and continue.
   conv    force implicit nonlinear convergence for current time step.
   ttrm    terminate implicit time step, reduce time step, retry time step.
   rtrm    terminate implicit at end of current time step.


 ********  notice  ********  notice  ********  notice  ********
 *                                                            *
 * This is the LS-DYNA Finite Element code.                   *
 *                                                            *
 * Neither LST nor the authors assume any responsibility for  *
 * the validity, accuracy, or applicability of any results    *
 * obtained from this system. Users must verify their own     *
 * results.                                                   *
 *                                                            *
 * LST endeavors to make the LS-DYNA code as complete,        *
 * accurate and easy to use as possible.                      *
 * Suggestions and comments are welcomed.  Please report any  *
 * errors encountered in either the documentation or results  *
 * immediately to LST through your site focus.                *
 *                                                            *
 * Copyright (C) 1990-2021                                    *
 * by Livermore Software Technology, LLC                      *
 * All rights reserved                                        *
 *                                                            *
 ********  notice  ********  notice  ********  notice  ********

 Beginning of keyword reader                                   01/27/26 14:40:35

                                                               01/27/26 14:40:35
 Open include file: mesh.k


 Memory required to process keyword     :     285092
 Additional dynamic memory required     :    2394491


 MPP execution with       2 procs

 Initial reading of file                                       01/27/26 14:40:35

 Implicit dynamics is now active

 Performing Decomposition -- Phase 1                           01/27/26 14:40:35

 Performing Recursive Coordinate Bisection (RCB)

 Memory required for decomposition      :      53592
 Additional dynamic memory required     :    2559869


 Performing Decomposition -- Phase 2                           01/27/26 14:40:35
 Performing Decomposition -- Phase 3                           01/27/26 14:40:35

 Implicit dynamics is now active

 input of data is completed

 initial kinetic energy = 0.00000000E+00

 The LS-DYNA time step size should not exceed     1.656E-07
 to avoid contact instabilities.  If the step size is
 bigger then scale the penalty of the offending surface.

 Implicit dynamics is now active

 termination time                  = 1.000E+00

 The following binary output files are being created,
 and contain data equivalent to the indicated ascii output files
   binout0000: (on processor       0)
    glstat
    spcforc

 Memory required to begin solution (memory=    320K)
          Minimum    281K on processor     1
          Maximum    320K on processor     0
          Average    301K

 Matrix Assembly dynamically allocated memory
          Maximum    160K

 Additional dynamically allocated memory
          Minimum   4056K on processor     1
          Maximum   4374K on processor     0
          Average   4215K

 Total allocated memory
          Minimum   4496K on processor     1
          Maximum   4854K on processor     0
          Average   4675K

 initialization completed

 calculation with mass scaling for minimum dt
    added mass   =   0.0000E+00
    physical mass=   6.5553E-05
    ratio        =   0.0000E+00
       1 t 0.0000E+00 dt 1.00E-02 flush i/o buffers            01/27/26 14:40:35
       1 t 0.0000E+00 dt 1.00E-02 write d3plot file            01/27/26 14:40:35

 Implicit dynamics is now active

 BEGIN implicit dynamics step      1 t= 1.0000E-02             01/27/26 14:40:35
 ============================================================
                time =  1.00000E-02
   current step size =  1.00000E-02


     ================================================
     ==            IMPLICIT USAGE ALERT            ==
     ================================================
     == Memory Management for Implicit has changed ==
     == after R10.  Please use:                    ==
     ==       memory=     1M memory2=     1M       ==
     ================================================


===================================================================================
=   BAD TERMINATION OF ONE OF YOUR APPLICATION PROCESSES
=   RANK 0 PID 19 RUNNING AT 6c9a4250757f
=   KILLED BY SIGNAL: 7 (Bus error)
===================================================================================

===================================================================================
=   BAD TERMINATION OF ONE OF YOUR APPLICATION PROCESSES
=   RANK 1 PID 20 RUNNING AT 6c9a4250757f
=   KILLED BY SIGNAL: 9 (Killed)
===================================================================================
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 21.696 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-buckling-beer-can-plot-beercan-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/b920ae740115cd78b18ccc1cddeb8780/plot_beercan.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_beercan.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/c768d204e849385d955da2c5a7495243/plot_beercan.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_beercan.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/10a21092ad18b691cc883577cf9fc3bf/plot_beercan.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">plot_beercan.zip</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perform-required-imports">Perform required imports</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-deck-and-keywords">Create a deck and keywords</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#view-the-model">View the model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#run-the-dyna-solver">Run the Dyna solver</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item"> 
<div class="tocsection editthispage">
  <a href="https://github.com/ansys/pydyna/edit/main/doc/source/examples/Buckling_Beer_Can/plot_beercan.rst">
    <i class="fa-solid fa-pencil"></i>
       Edit
    on GitHub  
  </a>
</div>

</div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <ul class="this-page-menu">
      <li><a href="../../_sources/examples/Buckling_Beer_Can/plot_beercan.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>


  <!-- Include desired assets -->
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.7/require.min.js"></script>

<script>
// Passing the search options to the search.js file
const SEARCH_OPTIONS = JSON.parse('{"keys": ["title", "text", "objectID"], "limit": 10, "threshold": 0.2}');
const SEARCH_FILE = "../../_static/search.json";
const ADVANCE_SEARCH_PATH = "../../search.html";
const EXTRA_SOURCES = JSON.parse('""');
</script>


<script src="../../_static/js/search.js"></script>

  
  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright (c) 2026 ANSYS, Inc. All rights reserved.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the
  <a href="https://sphinxdocs.ansys.com/version/stable/index.html"
    >Ansys Sphinx Theme</a
  >
  1.6.4. <br />Last updated on
  <span id="ast_build_date"></span>
</p>
<script>
  var options = { day: "numeric", month: "long", year: "numeric" };
  var ast_lastModifiedDate = new Date(document.lastModified);
  var ast_build_date = ast_lastModifiedDate.toLocaleDateString("en-US", options);
  document.getElementById("ast_build_date").innerHTML = ast_build_date;
</script></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>